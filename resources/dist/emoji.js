(()=>{"use strict";function e(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function t(t){return e(t.replace(/--/g,"-").replace(/__/g,"_"))}function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}function r(e){return null!=e}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){const n=c(e);return Array.from(n.reduce(((e,n)=>(function(e,t){const n=e[t];return Array.isArray(n)?n:[]}(n,t).forEach((t=>e.add(t))),e)),new Set))}function s(e,t){return c(e).reduce(((e,n)=>(e.push(...function(e,t){const n=e[t];return n?Object.keys(n).map((e=>[e,n[e]])):[]}(n,t)),e)),[])}function c(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}"function"==typeof Object.getOwnPropertySymbols||Object.getOwnPropertyNames,(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(e){return e=>class extends e{}}})();Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},u("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),u("0123456789".split("").map((e=>[e,e]))));function u(e){return e.reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n})),{})}function l(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function d(e,t,n){let o=l(e,t,n);return o||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),o=l(e,t,n),o||void 0)}function f([t,n],a){return function(t){const{token:n,typeDefinition:a}=t,s=`${o(n)}-value`,c=function(e){const{controller:t,token:n,typeDefinition:o}=e,i={controller:t,token:n,typeObject:o},a=function(e){const{controller:t,token:n,typeObject:o}=e,i=r(o.type),a=r(o.default),s=i&&a,c=i&&!a,u=!i&&a,l=p(o.type),d=m(e.typeObject.default);if(c)return l;if(u)return d;if(l!==d){throw new Error(`The specified default value for the Stimulus Value "${t?`${t}.${n}`:n}" must match the defined type "${l}". The provided default value of "${o.default}" is of type "${d}".`)}if(s)return l}(i),s=m(o),c=p(o),u=a||s||c;if(u)return u;const l=t?`${t}.${o}`:n;throw new Error(`Unknown value type "${l}" for "${n}" value`)}(t);return{type:c,key:s,name:e(s),get defaultValue(){return function(e){const t=p(e);if(t)return h[t];const n=i(e,"default"),o=i(e,"type"),r=e;if(n)return r.default;if(o){const{type:e}=r,t=p(e);if(t)return h[t]}return e}(a)},get hasCustomDefaultValue(){return void 0!==m(a)},reader:g[c],writer:b[c]||b.default}}({controller:a,token:t,typeDefinition:n})}function p(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function m(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const h={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},g={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${m(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e.replace(/_/g,"")),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${m(t)}"`);return t},string:e=>e},b={default:function(e){return`${e}`},array:y,object:y};function y(e){return JSON.stringify(e)}class v{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:o=this.identifier,bubbles:r=!0,cancelable:i=!0}={}){const a=new CustomEvent(o?`${o}:${e}`:e,{detail:n,bubbles:r,cancelable:i});return t.dispatchEvent(a),a}}function k(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function w(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}v.blessings=[function(e){return a(e,"classes").reduce(((e,t)=>{return Object.assign(e,(o=t,{[`${o}Class`]:{get(){const{classes:e}=this;if(e.has(o))return e.get(o);{const t=e.getAttributeName(o);throw new Error(`Missing attribute "${t}"`)}}},[`${o}Classes`]:{get(){return this.classes.getAll(o)}},[`has${n(o)}Class`]:{get(){return this.classes.has(o)}}}));var o}),{})},function(e){return a(e,"targets").reduce(((e,t)=>{return Object.assign(e,(o=t,{[`${o}Target`]:{get(){const e=this.targets.find(o);if(e)return e;throw new Error(`Missing target element "${o}" for "${this.identifier}" controller`)}},[`${o}Targets`]:{get(){return this.targets.findAll(o)}},[`has${n(o)}Target`]:{get(){return this.targets.has(o)}}}));var o}),{})},function(e){const t=s(e,"values"),o={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const n=f(t,this.identifier),o=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[o]:n})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e,t){const o=f(e,t),{key:r,name:i,reader:a,writer:s}=o;return{[i]:{get(){const e=this.data.get(r);return null!==e?a(e):o.defaultValue},set(e){void 0===e?this.data.delete(r):this.data.set(r,s(e))}},[`has${n(i)}`]:{get(){return this.data.has(r)||o.hasCustomDefaultValue}}}}(t))),o)},function(e){return a(e,"outlets").reduce(((e,o)=>Object.assign(e,function(e){const o=t(e);return{[`${o}Outlet`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){const n=d(this,t,e);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${o}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const n=d(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${o}OutletElement`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${o}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${n(o)}Outlet`]:{get(){return this.outlets.has(e)}}}}(o))),{})}],v.targets=[],v.outlets=[],v.values={};const j="emoji",E="keyvalue",S="favorites",T="tokens",x="count",$="group-order",C="eTag",O="url",_="skinTone",A="readonly",P="readwrite",L="skinUnicodes";function I(e){return function(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}(e,(e=>e.unicode))}const z={},M={},N={};function B(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function D(e){const t=await new Promise(((t,n)=>{const o=indexedDB.open(e,1);z[e]=o,o.onupgradeneeded=e=>{e.oldVersion<1&&function(e){function t(t,n,o){const r=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(o)for(const[e,[t,n]]of Object.entries(o))r.createIndex(e,t,{multiEntry:n});return r}t(E),t(j,"unicode",{[T]:["tokens",!0],[$]:[["group","order"]],[L]:["skinUnicodes",!0]}),t(S,void 0,{[x]:[""]})}(o.result)},B(t,n,o)}));return t.onclose=()=>U(e),t}function F(e,t,n,o){return new Promise(((r,i)=>{const a=e.transaction(t,n,{durability:"relaxed"}),s="string"==typeof t?a.objectStore(t):t.map((e=>a.objectStore(e)));let c;o(s,a,(e=>{c=e})),a.oncomplete=()=>r(c),a.onerror=()=>i(a.error)}))}function U(e){const t=z[e],n=t&&t.result;if(n){n.close();const t=N[e];if(t)for(const e of t)e()}delete z[e],delete M[e],delete N[e]}const R=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function V(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||R.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}function W(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=2))}function G(e,t,n,o){e[t](n).onsuccess=e=>o&&o(e.target.result)}function K(e,t,n){G(e,"get",t,n)}function q(e,t,n){G(e,"getAll",t,n)}function H(e){e.commit&&e.commit()}function J(e,t){const n=function(e,t){let n=e[0];for(let o=1;o<e.length;o++){const r=e[o];t(n)>t(r)&&(n=r)}return n}(e,(e=>e.length)),o=[];for(const r of n)e.some((e=>-1===e.findIndex((e=>t(e)===t(r)))))||o.push(r);return o}async function X(e,t,n,o){try{const r=function(e){return e.map((({annotation:e,emoticon:t,group:n,order:o,shortcodes:r,skins:i,tags:a,emoji:s,version:c})=>{const u={annotation:e,group:n,order:o,tags:a,tokens:[...new Set(W([...(r||[]).map(V).flat(),...(a||[]).map(V).flat(),...V(e),t]))].sort(),unicode:s,version:c};if(t&&(u.emoticon=t),r&&(u.shortcodes=r),i){u.skinTones=[],u.skinUnicodes=[],u.skinVersions=[];for(const{tone:e,emoji:t,version:n}of i)u.skinTones.push(e),u.skinUnicodes.push(t),u.skinVersions.push(n)}return u}))}(t);await F(e,[j,E],P,(([e,t],i)=>{let a,s,c=0;function u(){2==++c&&function(){if(a===o&&s===n)return;e.clear();for(const t of r)e.put(t);t.put(o,C),t.put(n,O),H(i)}()}K(t,C,(e=>{a=e,u()})),K(t,O,(e=>{s=e,u()}))}))}finally{}}async function Q(e,t){const n=W(V(t));return n.length?F(e,j,A,((e,t,o)=>{const r=[],i=()=>{const e=J(r,(e=>e.unicode));o(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let t=0;t<n.length;t++){const o=n[t],a=t===n.length-1?IDBKeyRange.bound(o,o+"￿",!1,!0):IDBKeyRange.only(o);q(e.index(T),a,(e=>{r.push(e),r.length===n.length&&i()}))}})):[]}async function Y(e,t){const n=await Q(e,t);if(!n.length){const n=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return F(e,j,A,((e,n,o)=>{let r;const i=()=>{e.getAll(r&&IDBKeyRange.lowerBound(r,!0),50).onsuccess=e=>{const n=e.target.result;for(const e of n)if(r=e.unicode,t(e))return o(e);if(n.length<50)return o();i()}};i()}))}(e,n)||null}return n.filter((e=>{const n=(e.shortcodes||[]).map((e=>e.toLowerCase()));return n.includes(t.toLowerCase())}))[0]||null}function Z(e,t,n){return F(e,t,A,((e,t,o)=>K(e,n,o)))}const ee=["name","url"];function te(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||ee.some((t=>!(t in e[0]))));if(!t||n)throw new Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),o=function(e,t){const n=new Map;for(const o of e){const e=t(o);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const o=t.charAt(n);let r=e.get(o);r||(r=new Map,e.set(o,r)),e=r}let r=e.get("");r||(r=[],e.set("",r)),r.push(o)}}return(e,t)=>{let o=n;for(let t=0;t<e.length;t++){const n=e.charAt(t),r=o.get(n);if(!r)return[];o=r}if(t)return o.get("")||[];const r=[],i=[o];for(;i.length;){const e=[...i.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,n]of e)""===t?r.push(...n):i.push(n)}return r}}(e,(e=>{const t=new Set;if(e.shortcodes)for(const n of e.shortcodes)for(const e of V(n))t.add(e);return t})),r=e=>o(e,!0),i=e=>o(e,!1),a=new Map,s=new Map;for(const t of e){s.set(t.name.toLowerCase(),t);for(const e of t.shortcodes||[])a.set(e.toLowerCase(),t)}return{all:n,search:e=>{const n=V(e);return J(n.map(((e,t)=>(t<n.length-1?r:i)(e))),(e=>e.name)).sort(t)},byShortcode:e=>a.get(e.toLowerCase()),byName:e=>s.get(e.toLowerCase())}}const ne="undefined"!=typeof wrappedJSObject;function oe(e){if(!e)return e;if(ne&&(e=structuredClone(e)),delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function re(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const ie=["annotation","emoji","group","order","version"];function ae(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function se(e){const t=await fetch(e);ae(t,e);const n=t.headers.get("etag");re(n);const o=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||ie.some((t=>!(t in e[0]))))throw new Error("Emoji data is in the wrong format")}(o),[n,o]}async function ce(e){let t=function(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),r=-1;++r<t;)o[r]=e.charCodeAt(r);return n}(JSON.stringify(e));const n=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,r=-1;++r<o;)t+=String.fromCharCode(n[r]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function ue(e,t){let n,o=await async function(e){const t=await fetch(e,{method:"HEAD"});ae(t,e);const n=t.headers.get("etag");return re(n),n}(t);if(!o){const e=await se(t);o=e[0],n=e[1],o||(o=await ce(n))}if(await async function(e,t,n){const[o,r]=await Promise.all([C,O].map((t=>Z(e,E,t))));return o===n&&r===t}(e,t,o));else{if(!n){n=(await se(t))[1]}await X(e,n,t,o)}}class le{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=te(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,M[t]||(M[t]=D(t)),M[t]);var t;!function(e,t){let n=N[e];n||(n=N[e]=[]),n.push(t)}(this._dbName,this._clear);const n=this.dataSource,o=await async function(e){return!await Z(e,E,O)}(e);o?await async function(e,t){let[n,o]=await se(t);n||(n=await ce(o)),await X(e,o,t,n)}(e,n):this._lazyUpdate=async function(e,t){try{await ue(e,t)}catch(e){if("InvalidStateError"!==e.name)throw e}}(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return w(e),await this.ready(),I(await async function(e,t){return F(e,j,A,((e,n,o)=>{const r=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);q(e.index($),r,o)}))}(this._db,e)).map(oe)}async getEmojiBySearchQuery(e){k(e),await this.ready();return[...this._custom.search(e),...I(await Q(this._db,e)).map(oe)]}async getEmojiByShortcode(e){k(e),await this.ready();const t=this._custom.byShortcode(e);return t||oe(await Y(this._db,e))}async getEmojiByUnicodeOrName(e){k(e),await this.ready();const t=this._custom.byName(e);return t||oe(await async function(e,t){return F(e,j,A,((e,n,o)=>K(e,t,(n=>{if(n)return o(n);K(e.index(L),t,(e=>o(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await Z(this._db,E,_)||0}async setPreferredSkinTone(e){return w(e),await this.ready(),t=this._db,n=_,o=e,F(t,E,P,((e,t)=>{e.put(o,n),H(t)}));var t,n,o}async incrementFavoriteEmojiCount(e){return k(e),await this.ready(),t=this._db,n=e,F(t,S,P,((e,t)=>K(e,n,(o=>{e.put((o||0)+1,n),H(t)}))));var t,n}async getTopFavoriteEmoji(e){return w(e),await this.ready(),(await function(e,t,n){return 0===n?[]:F(e,[S,j],A,(([e,o],r,i)=>{const a=[];e.index(x).openCursor(void 0,"prev").onsuccess=e=>{const r=e.target.result;if(!r)return i(a);function s(e){if(a.push(e),a.length===n)return i(a);r.continue()}const c=r.primaryKey,u=t.byName(c);if(u)return s(u);K(o,c,(e=>{if(e)return s(e);r.continue()}))}}))}(this._db,this._custom,e)).map(oe)}set customEmoji(e){this._custom=te(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await U(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,n)=>{U(e),B(t,n,indexedDB.deleteDatabase(e))})))}}const de=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),fe=de.slice(1),pe="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function me(e){return e.unicode.includes("‍")}const he={"🫩":16,"🫨":15.1,"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},ge=["😊","😒","❤️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],be='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',ye=(e,t)=>e<t?-1:e>t?1:0,ve=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d",{willReadFrequently:!0});return o.textBaseline="top",o.font=`100px ${be}`,o.fillStyle=t,o.scale(.01,.01),o.fillText(e,0,0),o.getImageData(0,0,1,1).data};function ke(e){const t=ve(e,"#000"),n=ve(e,"#fff");return t&&n&&((e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")})(t,n)}let we;const je=()=>(we||(we=new Promise((e=>pe((()=>e(function(){const e=Object.entries(he);try{for(const[t,n]of e)if(ke(t))return n}catch(e){}return e[0][1]}())))))),we),Ee=new Map;function Se(e){e.preventDefault(),e.stopPropagation()}function Te(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function xe(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}const $e=requestAnimationFrame;let Ce,Oe="function"==typeof ResizeObserver;function _e(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}function Ae(e,t,n){let o=e.get(t);return o||(o=n(),e.set(t,o)),o}function Pe(e){return""+e}const Le=new WeakMap,Ie=new WeakMap,ze=Symbol("un-keyed"),Me="replaceChildren"in Element.prototype;function Ne(e,t){const{targetNode:n}=t;let{targetParentNode:o}=t,r=!1;o?r=function(e,t){let n=e.firstChild,o=0;for(;n;){if(t[o]!==n)return!0;n=n.nextSibling,o++}return o!==t.length}(o,e):(r=!0,t.targetNode=void 0,t.targetParentNode=o=n.parentNode),r&&function(e,t){Me?e.replaceChildren(...t):(e.innerHTML="",e.append(...t))}(o,e)}function Be(e){let t="",n=!1,o=!1,r=-1;const i=new Map,a=[];let s=0;for(let c=0,u=e.length;c<u;c++){const l=e[c];if(t+=l.slice(s),c===u-1)break;for(let e=0;e<l.length;e++){switch(l.charAt(e)){case"<":"/"===l.charAt(e+1)?a.pop():(n=!0,a.push(++r));break;case">":n=!1,o=!1;break;case"=":o=!0}}const d=Ae(i,a[a.length-1],(()=>[]));let f,p,m;if(o){const n=/(\S+)="?([^"=]*)$/.exec(l);f=n[1],p=n[2];const o=/^([^">]*)("?)/.exec(e[c+1]);m=o[1],t=t.slice(0,-1*n[0].length),s=o[0].length}else s=0;const h={attributeName:f,attributeValuePre:p,attributeValuePost:m,expressionIndex:c};d.push(h),n||o||(t+=" ")}const c=function(e){const t=document.createElement("template");return t.innerHTML=e,t}(t);return{template:c,elementsToBindings:i}}function De(e,t,n){for(let o=0;o<e.length;o++){const r=e[o],i={binding:r,targetNode:r.attributeName?t:t.firstChild,targetParentNode:void 0,currentExpression:void 0};n.push(i)}}function Fe(e){const{template:t,elementsToBindings:n}=Ae(Le,e,(()=>Be(e))),o=t.cloneNode(!0).content.firstElementChild,r=function(e,t){const n=[];let o;if(1===t.size&&(o=t.get(0)))De(o,e,n);else{const o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);let r=e,i=-1;do{const e=t.get(++i);e&&De(e,r,n)}while(r=o.nextNode())}return n}(o,n);return function(e){return function(e,t){for(const n of t){const{targetNode:t,currentExpression:o,binding:{expressionIndex:r,attributeName:i,attributeValuePre:a,attributeValuePost:s}}=n,c=e[r];if(o!==c)if(n.currentExpression=c,i)if(null===c)t.removeAttribute(i);else{const e=a+Pe(c)+s;t.setAttribute(i,e)}else{let e;Array.isArray(c)?Ne(c,n):c instanceof Element?(e=c,t.replaceWith(e)):t.nodeValue=Pe(c),e&&(n.targetNode=e)}}}(e,r),o}}function Ue(e,t,n,o,r,i,a,s,c){const{labelWithSkin:u,titleForEmoji:l,unicodeWithSkin:d}=n,{html:f,map:p}=function(e){const t=Ae(Ie,e,(()=>new Map));let n=ze;return{map:function(e,t,o){return e.map(((e,r)=>{const i=n;n=o(e);try{return t(e,r)}finally{n=i}}))},html:function(e,...o){const r=Ae(t,e,(()=>new Map));return Ae(r,n,(()=>Fe(e)))(o)}}}(t);function m(e,n,o){return p(e,((e,r)=>f`<button role="${n?"option":"menuitem"}" aria-selected="${n?r===t.activeSearchItem:null}" aria-label="${u(e,t.currentSkinTone)}" title="${l(e)}" class="${"emoji"+(n&&r===t.activeSearchItem?" active":"")+(e.unicode?"":" custom-emoji")}" id="${`${o}-${e.id}`}" style="${e.unicode?null:`--custom-emoji-background: url(${JSON.stringify(e.url)})`}">${e.unicode?d(e,t.currentSkinTone):""}</button>`),(e=>`${o}-${e.id}`))}const h=f`<section data-ref="rootElement" class="picker" aria-label="${t.i18n.regionLabel}" style="${t.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${t.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!(!t.searchMode||!t.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${t.activeSearchItemId?`emo-${t.activeSearchItemId}`:null}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${t.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${t.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${t.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${t.skinTonePickerExpanded?"hide-focus":""}" aria-label="${t.skinToneButtonLabel}" title="${t.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${t.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${t.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${t.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${t.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${t.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${t.i18n.skinTonesLabel}" aria-activedescendant="skintone-${t.activeSkinTone}" aria-hidden="${!t.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${p(t.skinTones,((e,n)=>f`<div id="skintone-${n}" class="emoji ${n===t.activeSkinTone?"active":""}" aria-selected="${n===t.activeSkinTone}" role="option" title="${t.i18n.skinTones[n]}" aria-label="${t.i18n.skinTones[n]}">${e}</div>`),(e=>e))}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${t.groups.length},1fr)" aria-label="${t.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${p(t.groups,(e=>f`<button role="tab" class="nav-button" aria-controls="tab-${e.id}" aria-label="${t.i18n.categories[e.name]}" aria-selected="${!t.searchMode&&t.currentGroup.id===e.id}" title="${t.i18n.categories[e.name]}" data-group-id="${e.id}"><div class="nav-emoji emoji">${e.emoji}</div></button>`),(e=>e.id))}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(t.isRtl?-1:1)*t.currentGroupIndex*100}%)"></div></div><div class="message ${t.message?"":"gone"}" role="alert" aria-live="polite">${t.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!t.databaseLoaded||t.message?"gone":""}" role="${t.searchMode?"region":"tabpanel"}" aria-label="${t.searchMode?t.i18n.searchResultsLabel:t.i18n.categories[t.currentGroup.name]}" id="${t.searchMode?null:`tab-${t.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${p(t.currentEmojisWithCategories,((e,n)=>f`<div><div id="menu-label-${n}" class="category ${1===t.currentEmojisWithCategories.length&&""===t.currentEmojisWithCategories[0].category?"gone":""}" aria-hidden="true">${t.searchMode?t.i18n.searchResultsLabel:e.category?e.category:t.currentEmojisWithCategories.length>1?t.i18n.categories.custom:t.i18n.categories[t.currentGroup.name]}</div><div class="emoji-menu ${0===n||t.searchMode||-1!==t.currentGroup.id?"":"visibility-auto"}" style="${`--num-rows: ${Math.ceil(e.emojis.length/t.numColumns)}`}" data-action="updateOnIntersection" role="${t.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${n}" id="${t.searchMode?"search-results":null}">${m(e.emojis,t.searchMode,"emo")}</div></div>`),(e=>e.category))}</div></div><div class="favorites onscreen emoji-menu ${t.message?"gone":""}" role="menu" aria-label="${t.i18n.favoritesLabel}" data-on-click="onEmojiClick">${m(t.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji">😀</button></section>`,g=(t,n)=>{for(const o of e.querySelectorAll(`[${t}]`))n(o,o.getAttribute(t))};if(c){e.appendChild(h);for(const e of["click","focusout","input","keydown","keyup"])g(`data-on-${e}`,((t,n)=>{t.addEventListener(e,o[n])}));g("data-ref",((e,t)=>{i[t]=e})),a.addEventListener("abort",(()=>{e.removeChild(h)}))}g("data-action",((e,t)=>{let n=s.get(t);n||s.set(t,n=new WeakSet),n.has(e)||(n.add(e),r[t](e))}))}const Re="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);function Ve(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0}const We=new WeakMap;const Ge=[],{assign:Ke}=Object;function qe(e,t){const n={},o=new AbortController,r=o.signal,{state:i,createEffect:a}=function(e){let t,n=!1;const o=new Map,r=new Set;let i;const a=()=>{if(n)return;const e=[...r];r.clear();try{for(const t of e)t()}finally{i=!1,r.size&&(i=!0,Re(a))}},s=new Proxy({},{get(e,n){if(t){let e=o.get(n);e||(e=new Set,o.set(n,e)),e.add(t)}return e[n]},set(e,t,n){if(e[t]!==n){e[t]=n;const s=o.get(t);if(s){for(const e of s)r.add(e);i||(i=!0,Re(a))}}return!0}});return e.addEventListener("abort",(()=>{n=!0})),{state:s,createEffect:e=>{const n=()=>{const o=t;t=n;try{return e()}finally{t=o}};return n()}}}(r),s=new Map;Ke(i,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),Ke(i,t),Ke(i,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,currentGroupIndex:0,groups:fe,databaseLoaded:!1,activeSearchItemId:void 0}),a((()=>{i.currentGroup!==i.groups[i.currentGroupIndex]&&(i.currentGroup=i.groups[i.currentGroupIndex])}));const c=t=>{e.getElementById(t).focus()},u=t=>e.getElementById(`emo-${t.id}`),l=(e,t)=>{n.rootElement.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},d=(e,t)=>e.id===t.id,f=(e,t)=>{const{category:n,emojis:o}=e,{category:r,emojis:i}=t;return n===r&&Ve(o,i,d)},p=e=>{Ve(i.currentEmojis,e,d)||(i.currentEmojis=e)},m=e=>{i.searchMode!==e&&(i.searchMode=e)},h=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode,g={labelWithSkin:(e,t)=>{return(n=[e.name||h(e,t),e.annotation,...e.shortcodes||Ge].filter(Boolean),xe(n,(e=>e))).join(", ");var n},titleForEmoji:e=>e.annotation||(e.shortcodes||Ge).join(", "),unicodeWithSkin:h},b={onClickSkinToneButton:function(e){i.skinTonePickerExpanded=!i.skinTonePickerExpanded,i.activeSkinTone=i.currentSkinTone,i.skinTonePickerExpanded&&(Se(e),$e((()=>c("skintone-list"))))},onEmojiClick:async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;Se(e);T(t.id.substring(4))},onNavClick:function(e){const{target:t}=e,o=t.closest(".nav-button");if(!o)return;const r=parseInt(o.dataset.groupId,10);n.searchElement.value="",i.rawSearchText="",i.searchText="",i.activeSearchItem=-1,i.currentGroupIndex=i.groups.findIndex((e=>e.id===r))},onNavKeydown:function(e){const{target:t,key:n}=e,o=t=>{t&&(Se(e),t.focus())};switch(n){case"ArrowLeft":return o(t.previousElementSibling);case"ArrowRight":return o(t.nextElementSibling);case"Home":return o(t.parentElement.firstElementChild);case"End":return o(t.parentElement.lastElementChild)}},onSearchKeydown:function(e){if(!i.searchMode||!i.currentEmojis.length)return;const t=t=>{Se(e),i.activeSearchItem=Te(t,i.activeSearchItem,i.currentEmojis)};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==i.activeSearchItem)return Se(e),T(i.currentEmojis[i.activeSearchItem].id);i.activeSearchItem=0}},onSkinToneOptionsClick:function(e){const{target:{id:t}}=e,n=t&&t.match(/^skintone-(\d)/);if(!n)return;Se(e);x(parseInt(n[1],10))},onSkinToneOptionsFocusOut:async function(e){const{relatedTarget:t}=e;t&&"skintone-list"===t.id||(i.skinTonePickerExpanded=!1)},onSkinToneOptionsKeydown:function(e){if(!i.skinTonePickerExpanded)return;const t=async t=>{Se(e),i.activeSkinTone=t};switch(e.key){case"ArrowUp":return t(Te(!0,i.activeSkinTone,i.skinTones));case"ArrowDown":return t(Te(!1,i.activeSkinTone,i.skinTones));case"Home":return t(0);case"End":return t(i.skinTones.length-1);case"Enter":return Se(e),x(i.activeSkinTone);case"Escape":return Se(e),i.skinTonePickerExpanded=!1,c("skintone-button")}},onSkinToneOptionsKeyup:function(e){if(!i.skinTonePickerExpanded)return;if(" "===e.key)return Se(e),x(i.activeSkinTone)},onSearchInput:function(e){i.rawSearchText=e.target.value}},y={calculateEmojiGridStyle:function(e){!function(e,t,n){let o;Oe?(o=new ResizeObserver(n),o.observe(e)):$e(n),t.addEventListener("abort",(()=>{o&&o.disconnect()}))}(e,r,(()=>{{const e=getComputedStyle(n.rootElement),t=parseInt(e.getPropertyValue("--num-columns"),10),o="rtl"===e.getPropertyValue("direction");i.numColumns=t,i.isRtl=o}}))},updateOnIntersection:function(e){!function(e,t,n){{const o=e.closest(".tabpanel");let r=We.get(o);r||(r=new IntersectionObserver(n,{root:o,rootMargin:"50% 0px 50% 0px",threshold:0}),We.set(o,r),t.addEventListener("abort",(()=>{r.disconnect()}))),r.observe(e)}}(e,r,(e=>{for(const{target:t,isIntersecting:n}of e)t.classList.toggle("onscreen",n)}))}};let v=!0;function k(){const{customEmoji:e,database:t}=i,n=e||Ge;t.customEmoji!==n&&(t.customEmoji=n)}a((()=>{Ue(e,i,g,b,y,n,r,s,v),v=!1})),i.emojiVersion||je().then((e=>{e||(i.message=i.i18n.emojiUnsupportedMessage)})),a((()=>{i.database&&async function(){let e=!1;const t=setTimeout((()=>{e=!0,i.message=i.i18n.loadingMessage}),1e3);try{await i.database.ready(),i.databaseLoaded=!0}catch(e){console.error(e),i.message=i.i18n.networkErrorMessage}finally{clearTimeout(t),e&&(e=!1,i.message="")}}()})),a((()=>{i.pickerStyle=`\n      --num-groups: ${i.groups.length}; \n      --indicator-opacity: ${i.searchMode?0:1}; \n      --num-skintones: 6;`})),a((()=>{i.customEmoji&&i.database&&k()})),a((()=>{i.customEmoji&&i.customEmoji.length?i.groups!==de&&(i.groups=de):i.groups!==fe&&(i.currentGroupIndex&&i.currentGroupIndex--,i.groups=fe)})),a((()=>{!async function(){i.databaseLoaded&&(i.currentSkinTone=await i.database.getPreferredSkinTone())}()})),a((()=>{i.skinTones=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf("‍");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("️")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(i.skinToneEmoji,t)))})),a((()=>{i.skinToneButtonText=i.skinTones[i.currentSkinTone]})),a((()=>{i.skinToneButtonLabel=i.i18n.skinToneLabel.replace("{skinTone}",i.i18n.skinTones[i.currentSkinTone])})),a((()=>{i.databaseLoaded&&async function(){const{database:e}=i,t=(await Promise.all(ge.map((t=>e.getEmojiByUnicodeOrName(t))))).filter(Boolean);i.defaultFavoriteEmojis=t}()})),a((()=>{i.databaseLoaded&&i.defaultFavoriteEmojis&&async function(){k();const{database:e,defaultFavoriteEmojis:t,numColumns:n}=i,o=await e.getTopFavoriteEmoji(n),r=await S(xe([...o,...t],(e=>e.unicode||e.name)).slice(0,n));i.currentFavorites=r}()})),a((()=>{!async function(){const{searchText:e,currentGroup:t,databaseLoaded:n,customEmoji:o}=i;if(n)if(e.length>=2){const t=await async function(e){return S(await E(await i.database.getEmojiBySearchQuery(e)))}(e);i.searchText===e&&(p(t),m(!0))}else{const{id:e}=t;if(-1!==e||o&&o.length){const t=await async function(e){const t=-1===e?i.customEmoji:await i.database.getEmojiByGroup(e);return S(await E(t))}(e);i.currentGroup.id===e&&(p(t),m(!1))}}else i.currentEmojis=[],i.searchMode=!1}()}));const w=()=>{$e((()=>{var e;(e=n.tabpanelElement)&&(e.scrollTop=0)}))};function j(e){return!e.unicode||!me(e)||Ee.get(e.unicode)}async function E(e){const t=i.emojiVersion||await je();return e.filter((({version:e})=>!e||e<=t))}async function S(e){return function(e,t){const n=e=>{const n={};for(const o of e)"number"==typeof o.tone&&o.version<=t&&(n[o.tone]=o.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:o,url:r,name:i,category:a,annotation:s})=>({unicode:e,name:i,shortcodes:o,url:r,category:a,annotation:s,id:e||i,skins:t&&n(t)})))}(e,i.emojiVersion||await je())}async function T(e){const t=await i.database.getEmojiByUnicodeOrName(e),n=[...i.currentEmojis,...i.currentFavorites].find((t=>t.id===e)),o=n.unicode&&h(n,i.currentSkinTone);await i.database.incrementFavoriteEmojiCount(e),l("emoji-click",{emoji:t,skinTone:i.currentSkinTone,...o&&{unicode:o},...n.name&&{name:n.name}})}function x(e){i.currentSkinTone=e,i.skinTonePickerExpanded=!1,c("skintone-button"),l("skin-tone-change",{skinTone:e}),i.database.setPreferredSkinTone(e)}return a((()=>{const{currentEmojis:e,emojiVersion:t}=i,o=e.filter((e=>e.unicode)).filter((e=>me(e)&&!Ee.has(e.unicode)));if(!t&&o.length)p(e),$e((()=>function(e){const t=function(e,t,n){let o=!0;for(const r of e){const e=n(r);if(!e)continue;const i=_e(e);void 0===Ce&&(Ce=_e(t));const a=i/1.8<Ce;Ee.set(r.unicode,a),a||(o=!1)}return o}(e,n.baselineEmoji,u);t?w():i.currentEmojis=[...i.currentEmojis]}(o)));else{const n=t?e:e.filter(j);p(n),w()}})),a((()=>{})),a((()=>{(e=>{Ve(i.currentEmojisWithCategories,e,f)||(i.currentEmojisWithCategories=e)})(function(){const{searchMode:e,currentEmojis:t}=i;if(e)return[{category:"",emojis:t}];const n=new Map;for(const e of t){const t=e.category||"";let o=n.get(t);o||(o=[],n.set(t,o)),o.push(e)}return[...n.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>i.customCategorySorting(e.category,t.category)))}())})),a((()=>{i.activeSearchItemId=-1!==i.activeSearchItem&&i.currentEmojis[i.activeSearchItem].id})),a((()=>{const{rawSearchText:e}=i;pe((()=>{i.searchText=(e||"").trim(),i.activeSearchItem=-1}))})),a((()=>{i.skinTonePickerExpanded?n.skinToneDropdown.addEventListener("transitionend",(()=>{i.skinTonePickerExpandedAfterAnimation=!0}),{once:!0}):i.skinTonePickerExpandedAfterAnimation=!1})),{$set(e){Ke(i,e)},$destroy(){o.abort()}}}var He={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Je=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],Xe=`:host{--emoji-font-family:${be}}`;class Qe extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}'+Xe,this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:ye,customEmoji:null,i18n:He,emojiVersion:null,...e};for(const e of Je)"database"!==e&&Object.prototype.hasOwnProperty.call(this,e)&&(this._ctx[e]=this[e],delete this[e]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=qe(this.shadowRoot,this._ctx))}disconnectedCallback(){Re((()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch((e=>console.error(e)))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),"emoji-version"===e?parseFloat(n):n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:t,database:n}=this._ctx;n&&n.locale===e&&n.dataSource===t||this._set("database",new le({locale:e,dataSource:t}))}_dbFlush(){Re((()=>this._dbCreate()))}}const Ye={};for(const e of Je)Ye[e]={get(){return"database"===e&&this._dbCreate(),this._ctx[e]},set(t){if("database"===e)throw new Error("database is read-only");this._set(e,t)}};function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,tt(o.key),o)}}function tt(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=Ze(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}function nt(e,t,n){return t=rt(t),function(e,t){if(t&&("object"==Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ot()?Reflect.construct(t,n||[],rt(e).constructor):t.apply(e,n))}function ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ot=function(){return!!e})()}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}Object.defineProperties(Qe.prototype,Ye),customElements.get("emoji-picker")||customElements.define("emoji-picker",Qe);var at=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(t,e),n=t,o=[{key:"connect",value:function(){var e=this.element.querySelector("emoji-picker"),t=e.shadowRoot;e.addEventListener("focusout",(function(e){return e.stopPropagation()})),this.element.addEventListener("open",(function(){var e;null===(e=t.querySelector("input"))||void 0===e||e.focus()}))}}],o&&et(n.prototype,o),r&&et(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,r}(v);window.Stimulus.register("emoji-picker",at)})();